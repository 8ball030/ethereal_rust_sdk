/*
 * Ethereal Exchange API
 *
 * Ethereal HTTP API for real-time trading, order management, and market data access.
 *
 * The version of the OpenAPI document: 0.1.0
 * 
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct PositionLiquidationDto {
    /// Id representing the position liquidation
    #[serde(rename = "id")]
    pub id: uuid::Uuid,
    /// Id representing the subaccount that was liquidated
    #[serde(rename = "subaccountId")]
    pub subaccount_id: uuid::Uuid,
    /// Id representing the product that was liquidated
    #[serde(rename = "productId")]
    pub product_id: uuid::Uuid,
    /// Id representing the position that was liquidated
    #[serde(rename = "positionId")]
    pub position_id: uuid::Uuid,
    /// Liquidation mark price in USD expressed as a decimal (precision: 9)
    #[serde(rename = "liquidationPrice")]
    pub liquidation_price: String,
    /// Cause of liquidation (either MarkChanged or Funding)
    #[serde(rename = "cause")]
    pub cause: Cause,
    /// Position cost at the time of liquidation in USD expressed as a decimal (precision: 9)
    #[serde(rename = "cost")]
    pub cost: String,
    /// Funding charged in USD expressed as a decimal (precision: 9), undefined if not liquidated due to funding
    #[serde(rename = "fundingChargeUsd", skip_serializing_if = "Option::is_none")]
    pub funding_charge_usd: Option<String>,
    /// Position side as either BUY (0) or SELL (1)
    #[serde(rename = "positionSide")]
    pub position_side: PositionSide,
    /// Position liquidation timestamp (ms since Unix Epoch)
    #[serde(rename = "createdAt")]
    pub created_at: f64,
}

impl PositionLiquidationDto {
    pub fn new(id: uuid::Uuid, subaccount_id: uuid::Uuid, product_id: uuid::Uuid, position_id: uuid::Uuid, liquidation_price: String, cause: Cause, cost: String, position_side: PositionSide, created_at: f64) -> PositionLiquidationDto {
        PositionLiquidationDto {
            id,
            subaccount_id,
            product_id,
            position_id,
            liquidation_price,
            cause,
            cost,
            funding_charge_usd: None,
            position_side,
            created_at,
        }
    }
}
/// Cause of liquidation (either MarkChanged or Funding)
#[derive(Clone, Copy, Debug, Eq, PartialEq, Ord, PartialOrd, Hash, Serialize, Deserialize)]
pub enum Cause {
    #[serde(rename = "MarkChanged")]
    MarkChanged,
    #[serde(rename = "Funding")]
    Funding,
}

impl Default for Cause {
    fn default() -> Cause {
        Self::MarkChanged
    }
}
/// Position side as either BUY (0) or SELL (1)
#[derive(Clone, Copy, Debug, Eq, PartialEq, Ord, PartialOrd, Hash, Serialize, Deserialize)]
pub enum PositionSide {
    #[serde(rename = "0")]
    BUY,
    #[serde(rename = "1")]
    SELL,
}

impl Default for PositionSide {
    fn default() -> PositionSide {
        Self::BUY
    }
}

